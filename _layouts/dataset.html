---
layout: page
title: Dataset Details
pageId: dataset
isSmallHeading: true
backToListURL: /datasets/
---

<div id="DatasetDetailView">
    <article class="inner">
        <header>
            <div id="dataset-icon-container" class="icon" aria-hidden="true"></div>
            <h2>{{ page.dataset.title }}</h2>
        </header>
        <ul class="links">
            <li><a href="{{ page.dataset.website }}" class="external-link">Website</a></li>
        </ul>

        <p class="description">{{ page.dataset.description.en }}</p>

        <div class="spec">
            <table>
                <tbody>
                    <tr data-row-kind="tags" data-type="tags">
                        <th>Tags</th>
                        <td>
                            {% if page.dataset and page.dataset.tags %}
                            {% assign _tags = page.dataset.tags %}
                            {% elsif page.tags %}
                            {% assign _tags = page.tags %}
                            {% else %}
                            {% assign _tags = [] %}
                            {% endif %}
                            <div class="tags-container">
                                {% include tags.html tags=_tags %}
                            </div>
                        </td>
                    </tr>
                    <tr data-row-kind="providers" data-type="number">
                        <th>Data provider</th>
                        <td>
                            {% assign _providers = page.dataset.providers | default: [] %}
                            <ul>
                                {% for provider in _providers %}
                                <li>{{ provider.en }}</li>
                                {% endfor %}
                            </ul>
                        </td>
                    </tr>
                    <tr data-row-kind="issued" data-type="date">
                        <th>Issued</th>
                        <td>{{ page.dataset.issued }}</td>
                    </tr>
                </tbody>
            </table>
        </div>

    </article>
</div>


<!-- Dataset page init: read tags, apply tag styles and render icon once -->
<script type="application/json" id="dataset-tags-json">{{ page.dataset.tags | jsonify }}</script>
<script>
    (function () {
        function readTags() {
            try {
                const el = document.getElementById('dataset-tags-json');
                if (!el) return [];
                const txt = el.textContent || el.innerText || '';
                if (!txt) return [];
                return JSON.parse(txt || '[]');
            } catch (e) {
                return [];
            }
        }

        function initOnce() {
            const tags = readTags();

            // Apply tag styles via DatasetsManager if available
            try {
                if (window.DatasetsManager && typeof window.DatasetsManager.getInstance === 'function') {
                    const mgr = window.DatasetsManager.getInstance();
                    if (mgr && typeof mgr.updateTagStyles === 'function') mgr.updateTagStyles(tags || []);
                }
            } catch (e) {
                /* ignore */
            }

            // Render icon using DatasetIcon helpers if present
            try {
                const container = document.getElementById('dataset-icon-container');
                if (container) {
                    if (window.DatasetIcon && typeof window.DatasetIcon.renderInContainer === 'function') {
                        window.DatasetIcon.renderInContainer(container, tags || [], 48, {});
                    } else if (window.DatasetIcon && typeof window.DatasetIcon.renderFromJsonElement === 'function') {
                        window.DatasetIcon.renderFromJsonElement('dataset-tags-json', 'dataset-icon-container', { size: 48 });
                    }
                }
            } catch (e) {
                /* ignore */
            }
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initOnce, { once: true });
        } else {
            initOnce();
        }
    })();
</script>